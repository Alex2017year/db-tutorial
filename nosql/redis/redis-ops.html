<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Redis è¿ç»´ | DB-TUTORIAL</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/db-tutorial/favicon.ico">
    <meta name="description" content="æ•°æ®åº“æ•™ç¨‹">
    <link rel="preload" href="/db-tutorial/assets/css/0.styles.9890eb14.css" as="style"><link rel="preload" href="/db-tutorial/assets/js/app.1637c1a8.js" as="script"><link rel="preload" href="/db-tutorial/assets/js/4.988cd28a.js" as="script"><link rel="preload" href="/db-tutorial/assets/js/33.d8a98227.js" as="script"><link rel="preload" href="/db-tutorial/assets/js/5.97e60065.js" as="script"><link rel="prefetch" href="/db-tutorial/assets/js/10.d6c4ab98.js"><link rel="prefetch" href="/db-tutorial/assets/js/11.bcdc854a.js"><link rel="prefetch" href="/db-tutorial/assets/js/12.b1c5ccd6.js"><link rel="prefetch" href="/db-tutorial/assets/js/13.0231d26c.js"><link rel="prefetch" href="/db-tutorial/assets/js/14.1353e10c.js"><link rel="prefetch" href="/db-tutorial/assets/js/15.77beb8c8.js"><link rel="prefetch" href="/db-tutorial/assets/js/16.95cb18f5.js"><link rel="prefetch" href="/db-tutorial/assets/js/17.391d32ef.js"><link rel="prefetch" href="/db-tutorial/assets/js/18.962a1d95.js"><link rel="prefetch" href="/db-tutorial/assets/js/19.4fe1aa3c.js"><link rel="prefetch" href="/db-tutorial/assets/js/20.fd0add2b.js"><link rel="prefetch" href="/db-tutorial/assets/js/21.9c5de472.js"><link rel="prefetch" href="/db-tutorial/assets/js/22.58cf4ab2.js"><link rel="prefetch" href="/db-tutorial/assets/js/23.4e1a22c2.js"><link rel="prefetch" href="/db-tutorial/assets/js/24.cc3769c6.js"><link rel="prefetch" href="/db-tutorial/assets/js/25.e2074f54.js"><link rel="prefetch" href="/db-tutorial/assets/js/26.befb3037.js"><link rel="prefetch" href="/db-tutorial/assets/js/27.b4d75a01.js"><link rel="prefetch" href="/db-tutorial/assets/js/28.3f95cfb3.js"><link rel="prefetch" href="/db-tutorial/assets/js/29.8f97f10b.js"><link rel="prefetch" href="/db-tutorial/assets/js/30.39d20b2c.js"><link rel="prefetch" href="/db-tutorial/assets/js/31.fc2f71e8.js"><link rel="prefetch" href="/db-tutorial/assets/js/32.04c7c31e.js"><link rel="prefetch" href="/db-tutorial/assets/js/34.f3f76f91.js"><link rel="prefetch" href="/db-tutorial/assets/js/35.9e1d9fd5.js"><link rel="prefetch" href="/db-tutorial/assets/js/36.8223f208.js"><link rel="prefetch" href="/db-tutorial/assets/js/37.2e5375d8.js"><link rel="prefetch" href="/db-tutorial/assets/js/38.0873d536.js"><link rel="prefetch" href="/db-tutorial/assets/js/39.0daadf13.js"><link rel="prefetch" href="/db-tutorial/assets/js/40.9dff4cfb.js"><link rel="prefetch" href="/db-tutorial/assets/js/41.f8b293a9.js"><link rel="prefetch" href="/db-tutorial/assets/js/42.550ed28e.js"><link rel="prefetch" href="/db-tutorial/assets/js/43.622c2625.js"><link rel="prefetch" href="/db-tutorial/assets/js/44.0fc5b838.js"><link rel="prefetch" href="/db-tutorial/assets/js/45.5a4964c8.js"><link rel="prefetch" href="/db-tutorial/assets/js/46.c49dba33.js"><link rel="prefetch" href="/db-tutorial/assets/js/47.53ce644b.js"><link rel="prefetch" href="/db-tutorial/assets/js/48.83d4e4ce.js"><link rel="prefetch" href="/db-tutorial/assets/js/49.36414ad9.js"><link rel="prefetch" href="/db-tutorial/assets/js/50.1394d06e.js"><link rel="prefetch" href="/db-tutorial/assets/js/51.0fea6988.js"><link rel="prefetch" href="/db-tutorial/assets/js/52.f10ee7c4.js"><link rel="prefetch" href="/db-tutorial/assets/js/53.f598ca7d.js"><link rel="prefetch" href="/db-tutorial/assets/js/54.6408c8d2.js"><link rel="prefetch" href="/db-tutorial/assets/js/6.0b3ccab2.js"><link rel="prefetch" href="/db-tutorial/assets/js/7.ac8df731.js"><link rel="prefetch" href="/db-tutorial/assets/js/8.df37c1ad.js"><link rel="prefetch" href="/db-tutorial/assets/js/9.0382c4b4.js"><link rel="prefetch" href="/db-tutorial/assets/js/vendors~flowchart.8982e116.js"><link rel="prefetch" href="/db-tutorial/assets/js/vendors~notification.f509967c.js">
    <link rel="stylesheet" href="/db-tutorial/assets/css/0.styles.9890eb14.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/db-tutorial/" class="home-link router-link-active"><img src="images/dunwu-logo-100.png" alt="DB-TUTORIAL" class="logo"> <span class="site-name can-hide">DB-TUTORIAL</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="sql" class="dropdown-title"><span class="title">sql</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/db-tutorial/sql/mysql/" class="nav-link">
  Mysql
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="nosql" class="dropdown-title"><span class="title">nosql</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/db-tutorial/nosql/redis/" class="nav-link router-link-active">
  Redis
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/dunwu/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ğŸ¯ åšå®¢
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/dunwu/db-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="sql" class="dropdown-title"><span class="title">sql</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/db-tutorial/sql/mysql/" class="nav-link">
  Mysql
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="nosql" class="dropdown-title"><span class="title">nosql</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/db-tutorial/nosql/redis/" class="nav-link router-link-active">
  Redis
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/dunwu/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ğŸ¯ åšå®¢
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/dunwu/db-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Redis è¿ç»´</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/db-tutorial/nosql/redis/redis-ops.html#å®‰è£…" class="sidebar-link">å®‰è£…</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/db-tutorial/nosql/redis/redis-ops.html#window-ä¸‹å®‰è£…" class="sidebar-link">Window ä¸‹å®‰è£…</a></li><li class="sidebar-sub-header"><a href="/db-tutorial/nosql/redis/redis-ops.html#linux-ä¸‹å®‰è£…" class="sidebar-link">Linux ä¸‹å®‰è£…</a></li><li class="sidebar-sub-header"><a href="/db-tutorial/nosql/redis/redis-ops.html#ubuntu-ä¸‹å®‰è£…" class="sidebar-link">Ubuntu ä¸‹å®‰è£…</a></li><li class="sidebar-sub-header"><a href="/db-tutorial/nosql/redis/redis-ops.html#å¼€æœºå¯åŠ¨" class="sidebar-link">å¼€æœºå¯åŠ¨</a></li><li class="sidebar-sub-header"><a href="/db-tutorial/nosql/redis/redis-ops.html#å¼€æ”¾é˜²ç«å¢™ç«¯å£" class="sidebar-link">å¼€æ”¾é˜²ç«å¢™ç«¯å£</a></li></ul></li><li><a href="/db-tutorial/nosql/redis/redis-ops.html#redis-ä½¿ç”¨å’Œé…ç½®" class="sidebar-link">Redis ä½¿ç”¨å’Œé…ç½®</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/db-tutorial/nosql/redis/redis-ops.html#å¯åŠ¨" class="sidebar-link">å¯åŠ¨</a></li><li class="sidebar-sub-header"><a href="/db-tutorial/nosql/redis/redis-ops.html#å¸¸è§é…ç½®" class="sidebar-link">å¸¸è§é…ç½®</a></li><li class="sidebar-sub-header"><a href="/db-tutorial/nosql/redis/redis-ops.html#è®¾ä¸ºå®ˆæŠ¤è¿›ç¨‹" class="sidebar-link">è®¾ä¸ºå®ˆæŠ¤è¿›ç¨‹</a></li></ul></li><li><a href="/db-tutorial/nosql/redis/redis-ops.html#redis-é›†ç¾¤ä½¿ç”¨å’Œé…ç½®" class="sidebar-link">Redis é›†ç¾¤ä½¿ç”¨å’Œé…ç½®</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/db-tutorial/nosql/redis/redis-ops.html#é›†ç¾¤è§„åˆ’" class="sidebar-link">é›†ç¾¤è§„åˆ’</a></li><li class="sidebar-sub-header"><a href="/db-tutorial/nosql/redis/redis-ops.html#éƒ¨ç½²" class="sidebar-link">éƒ¨ç½²</a></li></ul></li><li><a href="/db-tutorial/nosql/redis/redis-ops.html#redis-å‘½ä»¤" class="sidebar-link">Redis å‘½ä»¤</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/db-tutorial/nosql/redis/redis-ops.html#é€šç”¨å‘½ä»¤" class="sidebar-link">é€šç”¨å‘½ä»¤</a></li><li class="sidebar-sub-header"><a href="/db-tutorial/nosql/redis/redis-ops.html#é›†ç¾¤å‘½ä»¤" class="sidebar-link">é›†ç¾¤å‘½ä»¤</a></li></ul></li><li><a href="/db-tutorial/nosql/redis/redis-ops.html#å‹åŠ›æµ‹è¯•" class="sidebar-link">å‹åŠ›æµ‹è¯•</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/db-tutorial/nosql/redis/redis-ops.html#å®¢æˆ·ç«¯" class="sidebar-link">å®¢æˆ·ç«¯</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/db-tutorial/nosql/redis/redis-ops.html#è„šæœ¬" class="sidebar-link">è„šæœ¬</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/db-tutorial/nosql/redis/redis-ops.html#å‚è€ƒèµ„æ–™" class="sidebar-link">å‚è€ƒèµ„æ–™</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="redis-è¿ç»´"><a href="#redis-è¿ç»´" class="header-anchor">#</a> Redis è¿ç»´</h1> <blockquote><p><strong>Redis</strong> æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„ key-value æ•°æ®åº“ã€‚</p> <p>SET æ“ä½œæ¯ç§’é’Ÿ 110000 æ¬¡ï¼›GET æ“ä½œæ¯ç§’é’Ÿ 81000 æ¬¡ã€‚</p></blockquote> <ul><li><a href="#%E5%AE%89%E8%A3%85">å®‰è£…</a> <ul><li><a href="#window-%E4%B8%8B%E5%AE%89%E8%A3%85">Window ä¸‹å®‰è£…</a></li> <li><a href="#linux-%E4%B8%8B%E5%AE%89%E8%A3%85">Linux ä¸‹å®‰è£…</a></li> <li><a href="#ubuntu-%E4%B8%8B%E5%AE%89%E8%A3%85">Ubuntu ä¸‹å®‰è£…</a></li> <li><a href="#%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8">å¼€æœºå¯åŠ¨</a></li> <li><a href="#%E5%BC%80%E6%94%BE%E9%98%B2%E7%81%AB%E5%A2%99%E7%AB%AF%E5%8F%A3">å¼€æ”¾é˜²ç«å¢™ç«¯å£</a></li></ul></li> <li><a href="#redis-%E4%BD%BF%E7%94%A8%E5%92%8C%E9%85%8D%E7%BD%AE">Redis ä½¿ç”¨å’Œé…ç½®</a> <ul><li><a href="#%E5%90%AF%E5%8A%A8">å¯åŠ¨</a></li> <li><a href="#%E5%B8%B8%E8%A7%81%E9%85%8D%E7%BD%AE">å¸¸è§é…ç½®</a></li> <li><a href="#%E8%AE%BE%E4%B8%BA%E5%AE%88%E6%8A%A4%E8%BF%9B%E7%A8%8B">è®¾ä¸ºå®ˆæŠ¤è¿›ç¨‹</a></li></ul></li> <li><a href="#redis-%E9%9B%86%E7%BE%A4%E4%BD%BF%E7%94%A8%E5%92%8C%E9%85%8D%E7%BD%AE">Redis é›†ç¾¤ä½¿ç”¨å’Œé…ç½®</a> <ul><li><a href="#%E9%9B%86%E7%BE%A4%E8%A7%84%E5%88%92">é›†ç¾¤è§„åˆ’</a></li> <li><a href="#%E9%83%A8%E7%BD%B2">éƒ¨ç½²</a></li></ul></li> <li><a href="#redis-%E5%91%BD%E4%BB%A4">Redis å‘½ä»¤</a> <ul><li><a href="#%E9%80%9A%E7%94%A8%E5%91%BD%E4%BB%A4">é€šç”¨å‘½ä»¤</a></li> <li><a href="#%E9%9B%86%E7%BE%A4%E5%91%BD%E4%BB%A4">é›†ç¾¤å‘½ä»¤</a></li></ul></li> <li><a href="#%E5%8E%8B%E5%8A%9B%E6%B5%8B%E8%AF%95">å‹åŠ›æµ‹è¯•</a></li> <li><a href="#%E5%AE%A2%E6%88%B7%E7%AB%AF">å®¢æˆ·ç«¯</a></li> <li><a href="#%E8%84%9A%E6%9C%AC">è„šæœ¬</a></li> <li><a href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">å‚è€ƒèµ„æ–™</a></li></ul> <h2 id="å®‰è£…"><a href="#å®‰è£…" class="header-anchor">#</a> å®‰è£…</h2> <h3 id="window-ä¸‹å®‰è£…"><a href="#window-ä¸‹å®‰è£…" class="header-anchor">#</a> Window ä¸‹å®‰è£…</h3> <p><strong>ä¸‹è½½åœ°å€ï¼š</strong><a href="https://github.com/MSOpenTech/redis/releases" target="_blank" rel="noopener noreferrer">https://github.com/MSOpenTech/redis/releases<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ã€‚</p> <p>Redis æ”¯æŒ 32 ä½å’Œ 64 ä½ã€‚è¿™ä¸ªéœ€è¦æ ¹æ®ä½ ç³»ç»Ÿå¹³å°çš„å®é™…æƒ…å†µé€‰æ‹©ï¼Œè¿™é‡Œæˆ‘ä»¬ä¸‹è½½ <strong>Redis-x64-xxx.zip</strong>å‹ç¼©åŒ…åˆ° C ç›˜ï¼Œè§£å‹åï¼Œå°†æ–‡ä»¶å¤¹é‡æ–°å‘½åä¸º <strong>redis</strong>ã€‚</p> <p>æ‰“å¼€ä¸€ä¸ª <strong>cmd</strong> çª—å£ ä½¿ç”¨ cd å‘½ä»¤åˆ‡æ¢ç›®å½•åˆ° <strong>C:\redis</strong> è¿è¡Œ <strong>redis-server.exe redis.windows.conf</strong> ã€‚</p> <p>å¦‚æœæƒ³æ–¹ä¾¿çš„è¯ï¼Œå¯ä»¥æŠŠ redis çš„è·¯å¾„åŠ åˆ°ç³»ç»Ÿçš„ç¯å¢ƒå˜é‡é‡Œï¼Œè¿™æ ·å°±çœå¾—å†è¾“è·¯å¾„äº†ï¼Œåé¢çš„é‚£ä¸ª redis.windows.conf å¯ä»¥çœç•¥ï¼Œå¦‚æœçœç•¥ï¼Œä¼šå¯ç”¨é»˜è®¤çš„ã€‚</p> <p>è¿™æ—¶å€™å¦å¯ä¸€ä¸ª cmd çª—å£ï¼ŒåŸæ¥çš„ä¸è¦å…³é—­ï¼Œä¸ç„¶å°±æ— æ³•è®¿é—®æœåŠ¡ç«¯äº†ã€‚</p> <p>åˆ‡æ¢åˆ° redis ç›®å½•ä¸‹è¿è¡Œ <strong>redis-cli.exe -h 127.0.0.1 -p 6379</strong> ã€‚</p> <h3 id="linux-ä¸‹å®‰è£…"><a href="#linux-ä¸‹å®‰è£…" class="header-anchor">#</a> Linux ä¸‹å®‰è£…</h3> <p><strong>ä¸‹è½½åœ°å€ï¼š</strong> http://redis.io/downloadï¼Œä¸‹è½½æœ€æ–°æ–‡æ¡£ç‰ˆæœ¬ã€‚</p> <p>ä¸‹è½½ã€è§£å‹ã€ç¼–è¯‘ Redis</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">wget</span> http://download.redis.io/releases/redis-5.0.4.tar.gz
<span class="token function">tar</span> xzf redis-5.0.4.tar.gz
<span class="token builtin class-name">cd</span> redis-5.0.4
<span class="token function">make</span>
</code></pre></div><p>ä¸ºäº†ç¼–è¯‘ Redis æºç ï¼Œä½ éœ€è¦ gcc-c++å’Œ tclã€‚å¦‚æœä½ çš„ç³»ç»Ÿæ˜¯ CentOSï¼Œå¯ä»¥ç›´æ¥æ‰§è¡Œå‘½ä»¤ï¼š<code>yum install -y gcc-c++ tcl</code> æ¥å®‰è£…ã€‚</p> <p>è¿›å…¥åˆ°è§£å‹åçš„ <code>src</code> ç›®å½•ï¼Œé€šè¿‡å¦‚ä¸‹å‘½ä»¤å¯åŠ¨ Redis:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>src/redis-server
</code></pre></div><p>æ‚¨å¯ä»¥ä½¿ç”¨å†…ç½®çš„å®¢æˆ·ç«¯ä¸ Redis è¿›è¡Œäº¤äº’:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ src/redis-cli
redis<span class="token operator">&gt;</span> <span class="token builtin class-name">set</span> foo bar
OK
redis<span class="token operator">&gt;</span> get foo
<span class="token string">&quot;bar&quot;</span>
</code></pre></div><h3 id="ubuntu-ä¸‹å®‰è£…"><a href="#ubuntu-ä¸‹å®‰è£…" class="header-anchor">#</a> Ubuntu ä¸‹å®‰è£…</h3> <p>åœ¨ Ubuntu ç³»ç»Ÿå®‰è£… Redis å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤:</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> update
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> redis-server
</code></pre></div><h3 id="å¼€æœºå¯åŠ¨"><a href="#å¼€æœºå¯åŠ¨" class="header-anchor">#</a> å¼€æœºå¯åŠ¨</h3> <ul><li>å¼€æœºå¯åŠ¨é…ç½®ï¼š<code>echo &quot;/usr/local/bin/redis-server /etc/redis.conf&quot; &gt;&gt; /etc/rc.local</code></li></ul> <h3 id="å¼€æ”¾é˜²ç«å¢™ç«¯å£"><a href="#å¼€æ”¾é˜²ç«å¢™ç«¯å£" class="header-anchor">#</a> å¼€æ”¾é˜²ç«å¢™ç«¯å£</h3> <ul><li>æ·»åŠ è§„åˆ™ï¼š<code>iptables -I INPUT -p tcp -m tcp --dport 6379 -j ACCEPT</code></li> <li>ä¿å­˜è§„åˆ™ï¼š<code>service iptables save</code></li> <li>é‡å¯ iptablesï¼š<code>service iptables restart</code></li></ul> <h2 id="redis-ä½¿ç”¨å’Œé…ç½®"><a href="#redis-ä½¿ç”¨å’Œé…ç½®" class="header-anchor">#</a> Redis ä½¿ç”¨å’Œé…ç½®</h2> <h3 id="å¯åŠ¨"><a href="#å¯åŠ¨" class="header-anchor">#</a> å¯åŠ¨</h3> <p><strong>å¯åŠ¨ redis æœåŠ¡</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> /usr/local/redis/src
./redis-server
</code></pre></div><p><strong>å¯åŠ¨ redis å®¢æˆ·ç«¯</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> /usr/local/redis/src
./redis-cli
</code></pre></div><p><strong>æŸ¥çœ‹ redis æ˜¯å¦å¯åŠ¨</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code>redis-cli
</code></pre></div><p>ä»¥ä¸Šå‘½ä»¤å°†æ‰“å¼€ä»¥ä¸‹ç»ˆç«¯ï¼š</p> <div class="language-shell extra-class"><pre class="language-shell"><code>redis <span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span>
</code></pre></div><p>127.0.0.1 æ˜¯æœ¬æœº IP ï¼Œ6379 æ˜¯ redis æœåŠ¡ç«¯å£ã€‚ç°åœ¨æˆ‘ä»¬è¾“å…¥ PING å‘½ä»¤ã€‚</p> <div class="language-shell extra-class"><pre class="language-shell"><code>redis <span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token function">ping</span>
PONG
</code></pre></div><p>ä»¥ä¸Šè¯´æ˜æˆ‘ä»¬å·²ç»æˆåŠŸå¯åŠ¨äº† redisã€‚</p> <h3 id="å¸¸è§é…ç½®"><a href="#å¸¸è§é…ç½®" class="header-anchor">#</a> å¸¸è§é…ç½®</h3> <blockquote><p>Redis é»˜è®¤çš„é…ç½®æ–‡ä»¶æ˜¯æ ¹ç›®å½•ä¸‹çš„ <code>redis.conf</code> æ–‡ä»¶ã€‚</p> <p>å¦‚æœéœ€è¦æŒ‡å®šç‰¹å®šæ–‡ä»¶ä½œä¸ºé…ç½®æ–‡ä»¶ï¼Œéœ€è¦ä½¿ç”¨å‘½ä»¤ï¼š <code>./redis-server -c xxx.conf</code></p> <p>æ¯æ¬¡ä¿®æ”¹é…ç½®åï¼Œéœ€è¦é‡å¯æ‰èƒ½ç”Ÿæ•ˆã€‚</p> <p>Redis å®˜æ–¹é»˜è®¤é…ç½®ï¼š</p> <ul><li>è‡ªæè¿°æ–‡æ¡£ <a href="https://raw.githubusercontent.com/antirez/redis/2.8/redis.conf" target="_blank" rel="noopener noreferrer">redis.conf for Redis 2.8<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>è‡ªæè¿°æ–‡æ¡£ <a href="https://raw.githubusercontent.com/antirez/redis/2.6/redis.conf" target="_blank" rel="noopener noreferrer">redis.conf for Redis 2.6<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</li> <li>è‡ªæè¿°æ–‡æ¡£ <a href="https://raw.githubusercontent.com/antirez/redis/2.4/redis.conf" target="_blank" rel="noopener noreferrer">redis.conf for Redis 2.4<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</li></ul> <p>è‡ª Redis2.6 èµ·å°±å¯ä»¥ç›´æ¥é€šè¿‡å‘½ä»¤è¡Œä¼ é€’ Redis é…ç½®å‚æ•°ã€‚è¿™ç§æ–¹æ³•å¯ä»¥ç”¨äºæµ‹è¯•ã€‚è‡ª Redis2.6 èµ·å°±å¯ä»¥ç›´æ¥é€šè¿‡å‘½ä»¤è¡Œä¼ é€’ Redis é…ç½®å‚æ•°ã€‚è¿™ç§æ–¹æ³•å¯ä»¥ç”¨äºæµ‹è¯•ã€‚</p></blockquote> <h3 id="è®¾ä¸ºå®ˆæŠ¤è¿›ç¨‹"><a href="#è®¾ä¸ºå®ˆæŠ¤è¿›ç¨‹" class="header-anchor">#</a> è®¾ä¸ºå®ˆæŠ¤è¿›ç¨‹</h3> <p>Redis é»˜è®¤ä»¥éå®ˆæŠ¤è¿›ç¨‹æ–¹å¼å¯åŠ¨ï¼Œè€Œé€šå¸¸æˆ‘ä»¬ä¼šå°† Redis è®¾ä¸ºå®ˆæŠ¤è¿›ç¨‹å¯åŠ¨æ–¹å¼ï¼Œé…ç½®ï¼š<code>daemonize yes</code></p> <h4 id="è¿œç¨‹è®¿é—®"><a href="#è¿œç¨‹è®¿é—®" class="header-anchor">#</a> è¿œç¨‹è®¿é—®</h4> <p>Redis é»˜è®¤ç»‘å®š 127.0.0.1ï¼Œè¿™æ ·å°±åªèƒ½æœ¬æœºæ‰èƒ½è®¿é—®ï¼Œè‹¥è¦ Redis å…è®¸è¿œç¨‹è®¿é—®ï¼Œéœ€è¦é…ç½®ï¼š<code>bind 0.0.0.0</code></p> <h4 id="è®¾ç½®å¯†ç "><a href="#è®¾ç½®å¯†ç " class="header-anchor">#</a> è®¾ç½®å¯†ç </h4> <p>Redis é»˜è®¤è®¿é—®ä¸éœ€è¦å¯†ç ï¼Œå¦‚æœéœ€è¦è®¾ç½®å¯†ç ï¼Œéœ€è¦å¦‚ä¸‹é…ç½®ï¼š</p> <ul><li><code>protected-mode yes</code></li> <li><code>requirepass &lt;å¯†ç &gt;</code></li></ul> <h4 id="é…ç½®å‚æ•°è¡¨"><a href="#é…ç½®å‚æ•°è¡¨" class="header-anchor">#</a> é…ç½®å‚æ•°è¡¨</h4> <table><thead><tr><th style="text-align:left;">é…ç½®é¡¹</th> <th style="text-align:left;">è¯´æ˜</th></tr></thead> <tbody><tr><td style="text-align:left;"><code>daemonize no</code></td> <td style="text-align:left;">Redis é»˜è®¤ä¸æ˜¯ä»¥å®ˆæŠ¤è¿›ç¨‹çš„æ–¹å¼è¿è¡Œï¼Œå¯ä»¥é€šè¿‡è¯¥é…ç½®é¡¹ä¿®æ”¹ï¼Œä½¿ç”¨ yes å¯ç”¨å®ˆæŠ¤è¿›ç¨‹ï¼ˆWindows ä¸æ”¯æŒå®ˆæŠ¤çº¿ç¨‹çš„é…ç½®ä¸º no ï¼‰</td></tr> <tr><td style="text-align:left;"><code>pidfile /var/run/redis.pid</code></td> <td style="text-align:left;">å½“ Redis ä»¥å®ˆæŠ¤è¿›ç¨‹æ–¹å¼è¿è¡Œæ—¶ï¼ŒRedis é»˜è®¤ä¼šæŠŠ pid å†™å…¥ /var/run/redis.pid æ–‡ä»¶ï¼Œå¯ä»¥é€šè¿‡ pidfile æŒ‡å®š</td></tr> <tr><td style="text-align:left;"><code>port 6379</code></td> <td style="text-align:left;">æŒ‡å®š Redis ç›‘å¬ç«¯å£ï¼Œé»˜è®¤ç«¯å£ä¸º 6379ï¼Œä½œè€…åœ¨è‡ªå·±çš„ä¸€ç¯‡åšæ–‡ä¸­è§£é‡Šäº†ä¸ºä»€ä¹ˆé€‰ç”¨ 6379 ä½œä¸ºé»˜è®¤ç«¯å£ï¼Œå› ä¸º 6379 åœ¨æ‰‹æœºæŒ‰é”®ä¸Š MERZ å¯¹åº”çš„å·ç ï¼Œè€Œ MERZ å–è‡ªæ„å¤§åˆ©æ­Œå¥³ Alessia Merz çš„åå­—</td></tr> <tr><td style="text-align:left;"><code>bind 127.0.0.1</code></td> <td style="text-align:left;">ç»‘å®šçš„ä¸»æœºåœ°å€</td></tr> <tr><td style="text-align:left;"><code>timeout 300</code></td> <td style="text-align:left;">å½“å®¢æˆ·ç«¯é—²ç½®å¤šé•¿æ—¶é—´åå…³é—­è¿æ¥ï¼Œå¦‚æœæŒ‡å®šä¸º 0ï¼Œè¡¨ç¤ºå…³é—­è¯¥åŠŸèƒ½</td></tr> <tr><td style="text-align:left;"><code>loglevel notice</code></td> <td style="text-align:left;">æŒ‡å®šæ—¥å¿—è®°å½•çº§åˆ«ï¼ŒRedis æ€»å…±æ”¯æŒå››ä¸ªçº§åˆ«ï¼šdebugã€verboseã€noticeã€warningï¼Œé»˜è®¤ä¸º notice</td></tr> <tr><td style="text-align:left;"><code>logfile stdout</code></td> <td style="text-align:left;">æ—¥å¿—è®°å½•æ–¹å¼ï¼Œé»˜è®¤ä¸ºæ ‡å‡†è¾“å‡ºï¼Œå¦‚æœé…ç½® Redis ä¸ºå®ˆæŠ¤è¿›ç¨‹æ–¹å¼è¿è¡Œï¼Œè€Œè¿™é‡Œåˆé…ç½®ä¸ºæ—¥å¿—è®°å½•æ–¹å¼ä¸ºæ ‡å‡†è¾“å‡ºï¼Œåˆ™æ—¥å¿—å°†ä¼šå‘é€ç»™ /dev/null</td></tr> <tr><td style="text-align:left;"><code>databases 16</code></td> <td style="text-align:left;">è®¾ç½®æ•°æ®åº“çš„æ•°é‡ï¼Œé»˜è®¤æ•°æ®åº“ä¸º 0ï¼Œå¯ä»¥ä½¿ç”¨ SELECT å‘½ä»¤åœ¨è¿æ¥ä¸ŠæŒ‡å®šæ•°æ®åº“ id</td></tr> <tr><td style="text-align:left;"><code>save &lt;seconds&gt; &lt;changes&gt;</code> Redis é»˜è®¤é…ç½®æ–‡ä»¶ä¸­æä¾›äº†ä¸‰ä¸ªæ¡ä»¶ï¼š<strong>save 900 1</strong>ã€<strong>save 300 10</strong>ã€<strong>save 60 10000</strong> åˆ†åˆ«è¡¨ç¤º 900 ç§’ï¼ˆ15 åˆ†é’Ÿï¼‰å†…æœ‰ 1 ä¸ªæ›´æ”¹ï¼Œ300 ç§’ï¼ˆ5 åˆ†é’Ÿï¼‰å†…æœ‰ 10 ä¸ªæ›´æ”¹ä»¥åŠ 60 ç§’å†…æœ‰ 10000 ä¸ªæ›´æ”¹ã€‚</td> <td style="text-align:left;">æŒ‡å®šåœ¨å¤šé•¿æ—¶é—´å†…ï¼Œæœ‰å¤šå°‘æ¬¡æ›´æ–°æ“ä½œï¼Œå°±å°†æ•°æ®åŒæ­¥åˆ°æ•°æ®æ–‡ä»¶ï¼Œå¯ä»¥å¤šä¸ªæ¡ä»¶é…åˆ</td></tr> <tr><td style="text-align:left;"><code>rdbcompression yes</code></td> <td style="text-align:left;">æŒ‡å®šå­˜å‚¨è‡³æœ¬åœ°æ•°æ®åº“æ—¶æ˜¯å¦å‹ç¼©æ•°æ®ï¼Œé»˜è®¤ä¸º yesï¼ŒRedis é‡‡ç”¨ LZF å‹ç¼©ï¼Œå¦‚æœä¸ºäº†èŠ‚çœ CPU æ—¶é—´ï¼Œå¯ä»¥å…³é—­è¯¥é€‰é¡¹ï¼Œä½†ä¼šå¯¼è‡´æ•°æ®åº“æ–‡ä»¶å˜çš„å·¨å¤§</td></tr> <tr><td style="text-align:left;"><code>dbfilename dump.rdb</code></td> <td style="text-align:left;">æŒ‡å®šæœ¬åœ°æ•°æ®åº“æ–‡ä»¶åï¼Œé»˜è®¤å€¼ä¸º dump.rdb</td></tr> <tr><td style="text-align:left;"><code>dir ./</code></td> <td style="text-align:left;">æŒ‡å®šæœ¬åœ°æ•°æ®åº“å­˜æ”¾ç›®å½•</td></tr> <tr><td style="text-align:left;"><code>slaveof &lt;masterip&gt; &lt;masterport&gt;</code></td> <td style="text-align:left;">è®¾ç½®å½“æœ¬æœºä¸º slav æœåŠ¡æ—¶ï¼Œè®¾ç½® master æœåŠ¡çš„ IP åœ°å€åŠç«¯å£ï¼Œåœ¨ Redis å¯åŠ¨æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨ä» master è¿›è¡Œæ•°æ®åŒæ­¥</td></tr> <tr><td style="text-align:left;"><code>masterauth &lt;master-password&gt;</code></td> <td style="text-align:left;">å½“ master æœåŠ¡è®¾ç½®äº†å¯†ç ä¿æŠ¤æ—¶ï¼Œslav æœåŠ¡è¿æ¥ master çš„å¯†ç </td></tr> <tr><td style="text-align:left;"><code>requirepass foobared</code></td> <td style="text-align:left;">è®¾ç½® Redis è¿æ¥å¯†ç ï¼Œå¦‚æœé…ç½®äº†è¿æ¥å¯†ç ï¼Œå®¢æˆ·ç«¯åœ¨è¿æ¥ Redis æ—¶éœ€è¦é€šè¿‡ AUTH <password> å‘½ä»¤æä¾›å¯†ç ï¼Œé»˜è®¤å…³é—­</password></td></tr> <tr><td style="text-align:left;"><code>maxclients 128</code></td> <td style="text-align:left;">è®¾ç½®åŒä¸€æ—¶é—´æœ€å¤§å®¢æˆ·ç«¯è¿æ¥æ•°ï¼Œé»˜è®¤æ— é™åˆ¶ï¼ŒRedis å¯ä»¥åŒæ—¶æ‰“å¼€çš„å®¢æˆ·ç«¯è¿æ¥æ•°ä¸º Redis è¿›ç¨‹å¯ä»¥æ‰“å¼€çš„æœ€å¤§æ–‡ä»¶æè¿°ç¬¦æ•°ï¼Œå¦‚æœè®¾ç½® maxclients 0ï¼Œè¡¨ç¤ºä¸ä½œé™åˆ¶ã€‚å½“å®¢æˆ·ç«¯è¿æ¥æ•°åˆ°è¾¾é™åˆ¶æ—¶ï¼ŒRedis ä¼šå…³é—­æ–°çš„è¿æ¥å¹¶å‘å®¢æˆ·ç«¯è¿”å› max number of clients reached é”™è¯¯ä¿¡æ¯</td></tr> <tr><td style="text-align:left;"><code>maxmemory &lt;bytes&gt;</code></td> <td style="text-align:left;">æŒ‡å®š Redis æœ€å¤§å†…å­˜é™åˆ¶ï¼ŒRedis åœ¨å¯åŠ¨æ—¶ä¼šæŠŠæ•°æ®åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œè¾¾åˆ°æœ€å¤§å†…å­˜åï¼ŒRedis ä¼šå…ˆå°è¯•æ¸…é™¤å·²åˆ°æœŸæˆ–å³å°†åˆ°æœŸçš„ Keyï¼Œå½“æ­¤æ–¹æ³•å¤„ç† åï¼Œä»ç„¶åˆ°è¾¾æœ€å¤§å†…å­˜è®¾ç½®ï¼Œå°†æ— æ³•å†è¿›è¡Œå†™å…¥æ“ä½œï¼Œä½†ä»ç„¶å¯ä»¥è¿›è¡Œè¯»å–æ“ä½œã€‚Redis æ–°çš„ vm æœºåˆ¶ï¼Œä¼šæŠŠ Key å­˜æ”¾å†…å­˜ï¼ŒValue ä¼šå­˜æ”¾åœ¨ swap åŒº</td></tr> <tr><td style="text-align:left;"><code>appendonly no</code></td> <td style="text-align:left;">æŒ‡å®šæ˜¯å¦åœ¨æ¯æ¬¡æ›´æ–°æ“ä½œåè¿›è¡Œæ—¥å¿—è®°å½•ï¼ŒRedis åœ¨é»˜è®¤æƒ…å†µä¸‹æ˜¯å¼‚æ­¥çš„æŠŠæ•°æ®å†™å…¥ç£ç›˜ï¼Œå¦‚æœä¸å¼€å¯ï¼Œå¯èƒ½ä¼šåœ¨æ–­ç”µæ—¶å¯¼è‡´ä¸€æ®µæ—¶é—´å†…çš„æ•°æ®ä¸¢å¤±ã€‚å› ä¸º redis æœ¬èº«åŒæ­¥æ•°æ®æ–‡ä»¶æ˜¯æŒ‰ä¸Šé¢ save æ¡ä»¶æ¥åŒæ­¥çš„ï¼Œæ‰€ä»¥æœ‰çš„æ•°æ®ä¼šåœ¨ä¸€æ®µæ—¶é—´å†…åªå­˜åœ¨äºå†…å­˜ä¸­ã€‚é»˜è®¤ä¸º no</td></tr> <tr><td style="text-align:left;"><code>appendfilename appendonly.aof</code></td> <td style="text-align:left;">æŒ‡å®šæ›´æ–°æ—¥å¿—æ–‡ä»¶åï¼Œé»˜è®¤ä¸º appendonly.aof</td></tr> <tr><td style="text-align:left;"><code>appendfsync everysec</code></td> <td style="text-align:left;">æŒ‡å®šæ›´æ–°æ—¥å¿—æ¡ä»¶ï¼Œå…±æœ‰ 3 ä¸ªå¯é€‰å€¼ï¼š<strong>no</strong>ï¼šè¡¨ç¤ºç­‰æ“ä½œç³»ç»Ÿè¿›è¡Œæ•°æ®ç¼“å­˜åŒæ­¥åˆ°ç£ç›˜ï¼ˆå¿«ï¼‰<strong>always</strong>ï¼šè¡¨ç¤ºæ¯æ¬¡æ›´æ–°æ“ä½œåæ‰‹åŠ¨è°ƒç”¨ fsync() å°†æ•°æ®å†™åˆ°ç£ç›˜ï¼ˆæ…¢ï¼Œå®‰å…¨ï¼‰<strong>everysec</strong>ï¼šè¡¨ç¤ºæ¯ç§’åŒæ­¥ä¸€æ¬¡ï¼ˆæŠ˜ä¸­ï¼Œé»˜è®¤å€¼ï¼‰</td></tr> <tr><td style="text-align:left;"><code>vm-enabled no</code></td> <td style="text-align:left;">æŒ‡å®šæ˜¯å¦å¯ç”¨è™šæ‹Ÿå†…å­˜æœºåˆ¶ï¼Œé»˜è®¤å€¼ä¸º noï¼Œç®€å•çš„ä»‹ç»ä¸€ä¸‹ï¼ŒVM æœºåˆ¶å°†æ•°æ®åˆ†é¡µå­˜æ”¾ï¼Œç”± Redis å°†è®¿é—®é‡è¾ƒå°‘çš„é¡µå³å†·æ•°æ® swap åˆ°ç£ç›˜ä¸Šï¼Œè®¿é—®å¤šçš„é¡µé¢ç”±ç£ç›˜è‡ªåŠ¨æ¢å‡ºåˆ°å†…å­˜ä¸­ï¼ˆåœ¨åé¢çš„æ–‡ç« æˆ‘ä¼šä»”ç»†åˆ†æ Redis çš„ VM æœºåˆ¶ï¼‰</td></tr> <tr><td style="text-align:left;"><code>vm-swap-file /tmp/redis.swap</code></td> <td style="text-align:left;">è™šæ‹Ÿå†…å­˜æ–‡ä»¶è·¯å¾„ï¼Œé»˜è®¤å€¼ä¸º /tmp/redis.swapï¼Œä¸å¯å¤šä¸ª Redis å®ä¾‹å…±äº«</td></tr> <tr><td style="text-align:left;"><code>vm-max-memory 0</code></td> <td style="text-align:left;">å°†æ‰€æœ‰å¤§äº vm-max-memory çš„æ•°æ®å­˜å…¥è™šæ‹Ÿå†…å­˜ï¼Œæ— è®º vm-max-memory è®¾ç½®å¤šå°ï¼Œæ‰€æœ‰ç´¢å¼•æ•°æ®éƒ½æ˜¯å†…å­˜å­˜å‚¨çš„(Redis çš„ç´¢å¼•æ•°æ® å°±æ˜¯ keys)ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ vm-max-memory è®¾ç½®ä¸º 0 çš„æ—¶å€™ï¼Œå…¶å®æ˜¯æ‰€æœ‰ value éƒ½å­˜åœ¨äºç£ç›˜ã€‚é»˜è®¤å€¼ä¸º 0</td></tr> <tr><td style="text-align:left;"><code>vm-page-size 32</code></td> <td style="text-align:left;">Redis swap æ–‡ä»¶åˆ†æˆäº†å¾ˆå¤šçš„ pageï¼Œä¸€ä¸ªå¯¹è±¡å¯ä»¥ä¿å­˜åœ¨å¤šä¸ª page ä¸Šé¢ï¼Œä½†ä¸€ä¸ª page ä¸Šä¸èƒ½è¢«å¤šä¸ªå¯¹è±¡å…±äº«ï¼Œvm-page-size æ˜¯è¦æ ¹æ®å­˜å‚¨çš„ æ•°æ®å¤§å°æ¥è®¾å®šçš„ï¼Œä½œè€…å»ºè®®å¦‚æœå­˜å‚¨å¾ˆå¤šå°å¯¹è±¡ï¼Œpage å¤§å°æœ€å¥½è®¾ç½®ä¸º 32 æˆ–è€… 64bytesï¼›å¦‚æœå­˜å‚¨å¾ˆå¤§å¤§å¯¹è±¡ï¼Œåˆ™å¯ä»¥ä½¿ç”¨æ›´å¤§çš„ pageï¼Œå¦‚æœä¸ç¡®å®šï¼Œå°±ä½¿ç”¨é»˜è®¤å€¼</td></tr> <tr><td style="text-align:left;"><code>vm-pages 134217728</code></td> <td style="text-align:left;">è®¾ç½® swap æ–‡ä»¶ä¸­çš„ page æ•°é‡ï¼Œç”±äºé¡µè¡¨ï¼ˆä¸€ç§è¡¨ç¤ºé¡µé¢ç©ºé—²æˆ–ä½¿ç”¨çš„ bitmapï¼‰æ˜¯åœ¨æ”¾åœ¨å†…å­˜ä¸­çš„ï¼Œï¼Œåœ¨ç£ç›˜ä¸Šæ¯ 8 ä¸ª pages å°†æ¶ˆè€— 1byte çš„å†…å­˜ã€‚</td></tr> <tr><td style="text-align:left;"><code>vm-max-threads 4</code></td> <td style="text-align:left;">è®¾ç½®è®¿é—® swap æ–‡ä»¶çš„çº¿ç¨‹æ•°,æœ€å¥½ä¸è¦è¶…è¿‡æœºå™¨çš„æ ¸æ•°,å¦‚æœè®¾ç½®ä¸º 0,é‚£ä¹ˆæ‰€æœ‰å¯¹ swap æ–‡ä»¶çš„æ“ä½œéƒ½æ˜¯ä¸²è¡Œçš„ï¼Œå¯èƒ½ä¼šé€ æˆæ¯”è¾ƒé•¿æ—¶é—´çš„å»¶è¿Ÿã€‚é»˜è®¤å€¼ä¸º 4</td></tr> <tr><td style="text-align:left;"><code>glueoutputbuf yes</code></td> <td style="text-align:left;">è®¾ç½®åœ¨å‘å®¢æˆ·ç«¯åº”ç­”æ—¶ï¼Œæ˜¯å¦æŠŠè¾ƒå°çš„åŒ…åˆå¹¶ä¸ºä¸€ä¸ªåŒ…å‘é€ï¼Œé»˜è®¤ä¸ºå¼€å¯</td></tr> <tr><td style="text-align:left;"><code>hash-max-zipmap-entries 64 hash-max-zipmap-value 512</code></td> <td style="text-align:left;">æŒ‡å®šåœ¨è¶…è¿‡ä¸€å®šçš„æ•°é‡æˆ–è€…æœ€å¤§çš„å…ƒç´ è¶…è¿‡æŸä¸€ä¸´ç•Œå€¼æ—¶ï¼Œé‡‡ç”¨ä¸€ç§ç‰¹æ®Šçš„å“ˆå¸Œç®—æ³•</td></tr> <tr><td style="text-align:left;"><code>activerehashing yes</code></td> <td style="text-align:left;">æŒ‡å®šæ˜¯å¦æ¿€æ´»é‡ç½®å“ˆå¸Œï¼Œé»˜è®¤ä¸ºå¼€å¯ï¼ˆåé¢åœ¨ä»‹ç» Redis çš„å“ˆå¸Œç®—æ³•æ—¶å…·ä½“ä»‹ç»ï¼‰</td></tr> <tr><td style="text-align:left;"><code>include /path/to/local.conf</code></td> <td style="text-align:left;">æŒ‡å®šåŒ…å«å…¶å®ƒçš„é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥åœ¨åŒä¸€ä¸»æœºä¸Šå¤šä¸ª Redis å®ä¾‹ä¹‹é—´ä½¿ç”¨åŒä¸€ä»½é…ç½®æ–‡ä»¶ï¼Œè€ŒåŒæ—¶å„ä¸ªå®ä¾‹åˆæ‹¥æœ‰è‡ªå·±çš„ç‰¹å®šé…ç½®æ–‡ä»¶</td></tr></tbody></table> <h2 id="redis-é›†ç¾¤ä½¿ç”¨å’Œé…ç½®"><a href="#redis-é›†ç¾¤ä½¿ç”¨å’Œé…ç½®" class="header-anchor">#</a> Redis é›†ç¾¤ä½¿ç”¨å’Œé…ç½®</h2> <p>Redis 3.0 åæ”¯æŒé›†ç¾¤æ¨¡å¼ã€‚</p> <h3 id="é›†ç¾¤è§„åˆ’"><a href="#é›†ç¾¤è§„åˆ’" class="header-anchor">#</a> é›†ç¾¤è§„åˆ’</h3> <p><code>Redis</code> é›†ç¾¤ä¸€èˆ¬ç”± <strong>å¤šä¸ªèŠ‚ç‚¹</strong> ç»„æˆï¼ŒèŠ‚ç‚¹æ•°é‡è‡³å°‘ä¸º <code>6</code> ä¸ªï¼Œæ‰èƒ½ä¿è¯ç»„æˆ <strong>å®Œæ•´é«˜å¯ç”¨</strong> çš„é›†ç¾¤ã€‚</p> <p><img src="https://user-gold-cdn.xitu.io/2019/10/10/16db5250b0d1c392?w=1467&amp;h=803&amp;f=png&amp;s=43428" alt="img"></p> <p>ç†æƒ³æƒ…å†µå½“ç„¶æ˜¯æ‰€æœ‰èŠ‚ç‚¹å„è‡ªåœ¨ä¸åŒçš„æœºå™¨ä¸Šï¼Œé¦–å…ˆäºèµ„æºï¼Œæœ¬äººåœ¨éƒ¨ç½² Redis é›†ç¾¤æ—¶ï¼Œåªå¾—åˆ° 3 å°æœåŠ¡å™¨ã€‚æ‰€ä»¥ï¼Œæˆ‘è®¡åˆ’æ¯å°æœåŠ¡å™¨éƒ¨ç½² 2 ä¸ª Redis èŠ‚ç‚¹ã€‚</p> <h3 id="éƒ¨ç½²"><a href="#éƒ¨ç½²" class="header-anchor">#</a> éƒ¨ç½²</h3> <p>Redis é›†ç¾¤èŠ‚ç‚¹çš„å®‰è£…ä¸å•èŠ‚ç‚¹æœåŠ¡ç›¸åŒï¼Œå·®å¼‚ä»…åœ¨äºéƒ¨ç½²æ–¹å¼ã€‚</p> <p>å‡è®¾ä¸‰å°æœåŠ¡å™¨åœ°å€å¦‚ä¸‹ï¼š</p> <ul><li>æœåŠ¡ Aï¼š127.0.0.1</li> <li>æœåŠ¡ Bï¼š127.0.0.2</li> <li>æœåŠ¡ Cï¼š127.0.0.3</li></ul> <p>åˆ†é…å¦‚ä¸‹ï¼š</p> <table><thead><tr><th>127.0.0.1</th> <th>127.0.0.2</th> <th>127.0.0.3</th></tr></thead> <tbody><tr><td>127.0.0.1:6381</td> <td>127.0.0.2:6383</td> <td>127.0.0.3:6385</td></tr> <tr><td>127.0.0.1:6382</td> <td>127.0.0.2:6384</td> <td>127.0.0.3:6386</td></tr></tbody></table> <h4 id="ï¼ˆ1ï¼‰åˆ›å»ºèŠ‚ç‚¹ç›®å½•"><a href="#ï¼ˆ1ï¼‰åˆ›å»ºèŠ‚ç‚¹ç›®å½•" class="header-anchor">#</a> ï¼ˆ1ï¼‰åˆ›å»ºèŠ‚ç‚¹ç›®å½•</h4> <p>æˆ‘ä¸ªäººåå¥½å°†è½¯ä»¶æ”¾åœ¨ <code>/opt</code> ç›®å½•ä¸‹ï¼Œåœ¨æˆ‘çš„æœºå™¨ä¸­ï¼ŒRedis éƒ½å®‰è£…åœ¨ <code>/usr/local/redis</code> ç›®å½•ä¸‹ã€‚æ‰€ä»¥ï¼Œä¸‹é¢çš„å‘½ä»¤å’Œé…ç½®éƒ½å‡è®¾ Redis å®‰è£…ç›®å½•ä¸º <code>/usr/local/redis</code> ã€‚</p> <p>ç¡®ä¿æœºå™¨ä¸Šå·²ç»å®‰è£…äº† Redis åï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œåˆ›å»º Redis é›†ç¾¤èŠ‚ç‚¹å®ä¾‹ç›®å½•ï¼š</p> <ul><li>127.0.0.1</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">mkdir</span> -p /usr/local/redis/cluster/6381
<span class="token function">sudo</span> <span class="token function">mkdir</span> -p /usr/local/redis/cluster/6382
</code></pre></div><ul><li>127.0.0.2</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">mkdir</span> -p /usr/local/redis/cluster/6383
<span class="token function">sudo</span> <span class="token function">mkdir</span> -p /usr/local/redis/cluster/6384
</code></pre></div><ul><li>127.0.0.3</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">mkdir</span> -p /usr/local/redis/cluster/6385
<span class="token function">sudo</span> <span class="token function">mkdir</span> -p /usr/local/redis/cluster/6386
</code></pre></div><h4 id="ï¼ˆ2ï¼‰é›†ç¾¤èŠ‚ç‚¹å®ä¾‹é…ç½®"><a href="#ï¼ˆ2ï¼‰é›†ç¾¤èŠ‚ç‚¹å®ä¾‹é…ç½®" class="header-anchor">#</a> ï¼ˆ2ï¼‰é›†ç¾¤èŠ‚ç‚¹å®ä¾‹é…ç½®</h4> <p>æ¯ä¸ªå®ä¾‹ç›®å½•ä¸‹ï¼Œæ–°å»º <code>redis.conf</code> é…ç½®æ–‡ä»¶ã€‚</p> <p>å®ä¾‹é…ç½®æ¨¡æ¿ä»¥ 6381 èŠ‚ç‚¹ä¸ºä¾‹ï¼ˆå…¶ä»–èŠ‚ç‚¹ï¼Œå®Œå…¨æ›¿æ¢é…ç½®ä¸­çš„ç«¯å£å· 6381 å³å¯ï¼‰ï¼Œå¦‚ä¸‹ï¼š</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># ç«¯å£å·</span>
port <span class="token number">6381</span>
<span class="token comment"># ç»‘å®šçš„ä¸»æœºç«¯å£ï¼ˆ0.0.0.0 è¡¨ç¤ºå…è®¸è¿œç¨‹è®¿é—®ï¼‰</span>
<span class="token builtin class-name">bind</span> <span class="token number">0.0</span>.0.0
<span class="token comment"># ä»¥å®ˆæŠ¤è¿›ç¨‹æ–¹å¼å¯åŠ¨</span>
daemonize <span class="token function">yes</span>

<span class="token comment"># å¼€å¯é›†ç¾¤æ¨¡å¼</span>
cluster-enabled <span class="token function">yes</span>
<span class="token comment"># é›†ç¾¤çš„é…ç½®ï¼Œé…ç½®æ–‡ä»¶é¦–æ¬¡å¯åŠ¨è‡ªåŠ¨ç”Ÿæˆ</span>
cluster-config-file /usr/local/redis/cluster/6381/6381.conf
<span class="token comment"># è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼Œè®¾ç½® 10 ç§’</span>
cluster-node-timeout <span class="token number">10000</span>

<span class="token comment"># å¼€å¯ AOF æŒä¹…åŒ–</span>
appendonly <span class="token function">yes</span>
<span class="token comment"># æ•°æ®å­˜æ”¾ç›®å½•</span>
<span class="token function">dir</span> /usr/local/redis/cluster/6381
<span class="token comment"># è¿›ç¨‹æ–‡ä»¶</span>
pidfile /var/run/redis/redis-6381.pid
<span class="token comment"># æ—¥å¿—æ–‡ä»¶</span>
logfile /usr/local/redis/cluster/6381/6381.log
</code></pre></div><h4 id="ï¼ˆ3ï¼‰å¯åŠ¨-redis-èŠ‚ç‚¹"><a href="#ï¼ˆ3ï¼‰å¯åŠ¨-redis-èŠ‚ç‚¹" class="header-anchor">#</a> ï¼ˆ3ï¼‰å¯åŠ¨ Redis èŠ‚ç‚¹</h4> <p>Redis çš„ utils/create-cluster ç›®å½•ä¸‹è‡ªå¸¦äº†ä¸€ä¸ªåä¸º create-cluster çš„è„šæœ¬å·¥å…·ï¼Œå¯ä»¥åˆ©ç”¨å®ƒæ¥æ–°å»ºã€å¯åŠ¨ã€åœæ­¢ã€é‡å¯ Redis èŠ‚ç‚¹ã€‚</p> <p>è„šæœ¬ä¸­æœ‰å‡ ä¸ªå…³é”®å‚æ•°ï¼š</p> <ul><li><code>PORT</code>=30000 - åˆå§‹ç«¯å£å·</li> <li><code>TIMEOUT</code>=2000 - è¶…æ—¶æ—¶é—´</li> <li><code>NODES</code>=6 - èŠ‚ç‚¹æ•°</li> <li><code>REPLICAS</code>=1 - å¤‡ä»½æ•°</li></ul> <p>è„šæœ¬ä¸­çš„æ¯ä¸ªå‘½ä»¤é¡¹ä¼šæ ¹æ®åˆå§‹ç«¯å£å·ï¼Œä»¥åŠè®¾ç½®çš„èŠ‚ç‚¹æ•°ï¼Œéå†çš„å»æ‰§è¡Œæ“ä½œã€‚</p> <p>ç”±äºå‰é¢çš„è§„åˆ’ä¸­ï¼ŒèŠ‚ç‚¹ç«¯å£æ˜¯ä» 6381 ~ 6386ï¼Œæ‰€ä»¥éœ€è¦å°† PORT å˜é‡è®¾ä¸º 6380ã€‚</p> <p>è„šæœ¬ä¸­å¯åŠ¨æ¯ä¸ª Redis èŠ‚ç‚¹æ˜¯é€šè¿‡æŒ‡å®šå‘½ä»¤è¡Œå‚æ•°æ¥é…ç½®å±æ€§ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦æ”¹ä¸€ä¸‹ï¼š</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$1</span>&quot;</span> <span class="token operator">==</span> <span class="token string">&quot;start&quot;</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
    <span class="token keyword">while</span> <span class="token punctuation">[</span> <span class="token variable"><span class="token variable">$((</span>PORT <span class="token operator">&lt;</span> ENDPORT<span class="token variable">))</span></span> <span class="token operator">!=</span> <span class="token string">&quot;0&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
        <span class="token assign-left variable">PORT</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span>PORT<span class="token operator">+</span><span class="token number">1</span><span class="token variable">))</span></span>
        <span class="token builtin class-name">echo</span> <span class="token string">&quot;Starting <span class="token variable">$PORT</span>&quot;</span>
        /usr/local/redis/src/redis-server /usr/local/redis/cluster/<span class="token variable">${PORT}</span>/redis.conf
    <span class="token keyword">done</span>
    <span class="token builtin class-name">exit</span> <span class="token number">0</span>
<span class="token keyword">fi</span>
</code></pre></div><p>å¥½äº†ï¼Œåœ¨æ¯å°æœåŠ¡å™¨ä¸Šï¼Œéƒ½æ‰§è¡Œ <code>./create-cluster start</code> æ¥å¯åŠ¨èŠ‚ç‚¹ã€‚</p> <p>ç„¶åï¼Œé€šè¿‡ ps å‘½ä»¤æ¥ç¡®è®¤ Redis è¿›ç¨‹æ˜¯å¦å·²ç»å·¥ä½œï¼š</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token function">ps</span> -ef <span class="token operator">|</span> <span class="token function">grep</span> redis
root     <span class="token number">12036</span>     <span class="token number">1</span> <span class="token number">12</span> <span class="token number">16</span>:26 ?        00:08:28 /usr/local/redis/src/redis-server <span class="token number">0.0</span>.0.0:6381 <span class="token punctuation">[</span>cluster<span class="token punctuation">]</span>
root     <span class="token number">12038</span>     <span class="token number">1</span>  <span class="token number">0</span> <span class="token number">16</span>:26 ?        00:00:03 /usr/local/redis/src/redis-server <span class="token number">0.0</span>.0.0:6382 <span class="token punctuation">[</span>cluster<span class="token punctuation">]</span>
</code></pre></div><h4 id="ï¼ˆ4ï¼‰å¯åŠ¨é›†ç¾¤"><a href="#ï¼ˆ4ï¼‰å¯åŠ¨é›†ç¾¤" class="header-anchor">#</a> ï¼ˆ4ï¼‰å¯åŠ¨é›†ç¾¤</h4> <p>é€šè¿‡ <code>redis-cli --cluster create</code> å‘½ä»¤å¯ä»¥è‡ªåŠ¨é…ç½®é›†ç¾¤ï¼Œå¦‚ä¸‹ï¼š</p> <div class="language-shell extra-class"><pre class="language-shell"><code>/usr/local/redis/src/redis-cli --cluster create <span class="token number">127.0</span>.0.1:6381 <span class="token number">127.0</span>.0.1:6382 <span class="token number">127.0</span>.0.2:6383 <span class="token number">127.0</span>.0.2:6384 <span class="token number">127.0</span>.0.3:6385 <span class="token number">127.0</span>.0.3:6386 --cluster-replicas <span class="token number">1</span>
</code></pre></div><p>å¦‚æœå¯åŠ¨æˆåŠŸï¼Œå¯ä»¥çœ‹åˆ°å¦‚ä¸‹ä¿¡æ¯ï¼š</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> Performing <span class="token builtin class-name">hash</span> slots allocation on <span class="token number">6</span> nodes<span class="token punctuation">..</span>.
Master<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> -<span class="token operator">&gt;</span> Slots <span class="token number">0</span> - <span class="token number">5460</span>
Master<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> -<span class="token operator">&gt;</span> Slots <span class="token number">5461</span> - <span class="token number">10922</span>
Master<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> -<span class="token operator">&gt;</span> Slots <span class="token number">10923</span> - <span class="token number">16383</span>
Adding replica <span class="token number">127.0</span>.0.2:6384 to <span class="token number">127.0</span>.0.1:6381
Adding replica <span class="token number">127.0</span>.0.3:6386 to <span class="token number">127.0</span>.0.2:6383
Adding replica <span class="token number">127.0</span>.0.1:6382 to <span class="token number">127.0</span>.0.3:6385
M: 75527b790e46530ea271a5b78f9e0fd9030f68e0 <span class="token number">127.0</span>.0.1:6381
   slots:<span class="token punctuation">[</span><span class="token number">0</span>-5460<span class="token punctuation">]</span> <span class="token punctuation">(</span><span class="token number">5461</span> slots<span class="token punctuation">)</span> master
S: 031dd0fd5ad90fa26fcf45d49ad906d063611a6d <span class="token number">127.0</span>.0.1:6382
   replicates 53012ebdd25005840da9ecbe07d937296a264206
M: 0cfbceec272b6ff70e1dfb5c5346a5cb2c20c884 <span class="token number">127.0</span>.0.2:6383
   slots:<span class="token punctuation">[</span><span class="token number">5461</span>-10922<span class="token punctuation">]</span> <span class="token punctuation">(</span><span class="token number">5462</span> slots<span class="token punctuation">)</span> master
S: 016ae9624202891cc6f2b480ff0634de478197fb <span class="token number">127.0</span>.0.2:6384
   replicates 75527b790e46530ea271a5b78f9e0fd9030f68e0
M: 53012ebdd25005840da9ecbe07d937296a264206 <span class="token number">127.0</span>.0.3:6385
   slots:<span class="token punctuation">[</span><span class="token number">10923</span>-16383<span class="token punctuation">]</span> <span class="token punctuation">(</span><span class="token number">5461</span> slots<span class="token punctuation">)</span> master
S: b6d70f2ed78922b1dcb7967ebe1d05ad9157fca8 <span class="token number">127.0</span>.0.3:6386
   replicates 0cfbceec272b6ff70e1dfb5c5346a5cb2c20c884
Can I <span class="token builtin class-name">set</span> the above configuration? <span class="token punctuation">(</span>type <span class="token string">'yes'</span> to accept<span class="token punctuation">)</span>: <span class="token function">yes</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> Nodes configuration updated
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> Assign a different config epoch to each node
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> Sending CLUSTER MEET messages to <span class="token function">join</span> the cluster
Waiting <span class="token keyword">for</span> the cluster to <span class="token function">join</span>
<span class="token punctuation">..</span><span class="token punctuation">..</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> Performing Cluster Check <span class="token punctuation">(</span>using node <span class="token number">127.0</span>.0.1:6381<span class="token punctuation">)</span>
M: 75527b790e46530ea271a5b78f9e0fd9030f68e0 <span class="token number">127.0</span>.0.1:6381
   slots:<span class="token punctuation">[</span><span class="token number">0</span>-5460<span class="token punctuation">]</span> <span class="token punctuation">(</span><span class="token number">5461</span> slots<span class="token punctuation">)</span> master
   <span class="token number">1</span> additional replica<span class="token punctuation">(</span>s<span class="token punctuation">)</span>
M: 0cfbceec272b6ff70e1dfb5c5346a5cb2c20c884 <span class="token number">127.0</span>.0.2:6383
   slots:<span class="token punctuation">[</span><span class="token number">5461</span>-10922<span class="token punctuation">]</span> <span class="token punctuation">(</span><span class="token number">5462</span> slots<span class="token punctuation">)</span> master
   <span class="token number">1</span> additional replica<span class="token punctuation">(</span>s<span class="token punctuation">)</span>
S: 016ae9624202891cc6f2b480ff0634de478197fb <span class="token number">127.0</span>.0.2:6384
   slots: <span class="token punctuation">(</span><span class="token number">0</span> slots<span class="token punctuation">)</span> slave
   replicates 75527b790e46530ea271a5b78f9e0fd9030f68e0
M: 53012ebdd25005840da9ecbe07d937296a264206 <span class="token number">127.0</span>.0.3:6385
   slots:<span class="token punctuation">[</span><span class="token number">10923</span>-16383<span class="token punctuation">]</span> <span class="token punctuation">(</span><span class="token number">5461</span> slots<span class="token punctuation">)</span> master
   <span class="token number">1</span> additional replica<span class="token punctuation">(</span>s<span class="token punctuation">)</span>
S: 031dd0fd5ad90fa26fcf45d49ad906d063611a6d <span class="token number">127.0</span>.0.1:6382
   slots: <span class="token punctuation">(</span><span class="token number">0</span> slots<span class="token punctuation">)</span> slave
   replicates 53012ebdd25005840da9ecbe07d937296a264206
S: b6d70f2ed78922b1dcb7967ebe1d05ad9157fca8 <span class="token number">127.0</span>.0.3:6386
   slots: <span class="token punctuation">(</span><span class="token number">0</span> slots<span class="token punctuation">)</span> slave
   replicates 0cfbceec272b6ff70e1dfb5c5346a5cb2c20c884
<span class="token punctuation">[</span>OK<span class="token punctuation">]</span> All nodes agree about slots configuration.
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> Check <span class="token keyword">for</span> <span class="token function">open</span> slots<span class="token punctuation">..</span>.
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> Check slots coverage<span class="token punctuation">..</span>.
<span class="token punctuation">[</span>OK<span class="token punctuation">]</span> All <span class="token number">16384</span> slots covered.
</code></pre></div><h4 id="ï¼ˆ5ï¼‰æ—¥å¸¸ç»´æŠ¤æ“ä½œ"><a href="#ï¼ˆ5ï¼‰æ—¥å¸¸ç»´æŠ¤æ“ä½œ" class="header-anchor">#</a> ï¼ˆ5ï¼‰æ—¥å¸¸ç»´æŠ¤æ“ä½œ</h4> <ul><li>å…³é—­é›†ç¾¤ - <code>./create-cluster stop</code></li> <li>æ£€æŸ¥é›†ç¾¤æ˜¯å¦å¥åº·ï¼ˆæŒ‡å®šä»»æ„èŠ‚ç‚¹å³å¯ï¼‰ï¼š<code>./redis-cli --cluster check &lt;ip:port&gt;</code></li> <li>å°è¯•ä¿®å¤é›†ç¾¤èŠ‚ç‚¹ï¼š<code>./redis-cli --cluster fix &lt;ip:port&gt;</code></li></ul> <h2 id="redis-å‘½ä»¤"><a href="#redis-å‘½ä»¤" class="header-anchor">#</a> Redis å‘½ä»¤</h2> <h3 id="é€šç”¨å‘½ä»¤"><a href="#é€šç”¨å‘½ä»¤" class="header-anchor">#</a> é€šç”¨å‘½ä»¤</h3> <blockquote><p>å‘½ä»¤è¯¦ç»†ç”¨æ³•ï¼Œè¯·å‚è€ƒ <a href="https://redis.io/commands" target="_blank" rel="noopener noreferrer"><strong>Redis å‘½ä»¤å®˜æ–¹æ–‡æ¡£</strong><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>æ¬è¿ä¸¤å¼  cheat sheet å›¾ï¼ŒåŸå€ï¼šhttps://www.cheatography.com/tasjaevan/cheat-sheets/redis/</p></blockquote> <p><img src="https://user-gold-cdn.xitu.io/2019/10/10/16db5250b0b8ea57?w=2230&amp;h=2914&amp;f=png&amp;s=246433" alt="img"></p> <p><img src="https://user-gold-cdn.xitu.io/2019/10/10/16db5250b0e9ba3c?w=2229&amp;h=2890&amp;f=png&amp;s=192997" alt="img"></p> <h3 id="é›†ç¾¤å‘½ä»¤"><a href="#é›†ç¾¤å‘½ä»¤" class="header-anchor">#</a> é›†ç¾¤å‘½ä»¤</h3> <ul><li><strong>é›†ç¾¤</strong> <ul><li><code>cluster info</code> - æ‰“å°é›†ç¾¤çš„ä¿¡æ¯</li> <li><code>cluster nodes</code> - åˆ—å‡ºé›†ç¾¤å½“å‰å·²çŸ¥çš„æ‰€æœ‰èŠ‚ç‚¹ï¼ˆ nodeï¼‰ï¼Œä»¥åŠè¿™äº›èŠ‚ç‚¹çš„ç›¸å…³ä¿¡æ¯ã€‚</li></ul></li> <li><strong>èŠ‚ç‚¹</strong> <ul><li><code>cluster meet &lt;ip&gt; &lt;port&gt;</code> - å°† ip å’Œ port æ‰€æŒ‡å®šçš„èŠ‚ç‚¹æ·»åŠ åˆ°é›†ç¾¤å½“ä¸­ï¼Œè®©å®ƒæˆä¸ºé›†ç¾¤çš„ä¸€ä»½å­ã€‚</li> <li><code>cluster forget &lt;node_id&gt;</code> - ä»é›†ç¾¤ä¸­ç§»é™¤ node_id æŒ‡å®šçš„èŠ‚ç‚¹ã€‚</li> <li><code>cluster replicate &lt;node_id&gt;</code> - å°†å½“å‰èŠ‚ç‚¹è®¾ç½®ä¸º node_id æŒ‡å®šçš„èŠ‚ç‚¹çš„ä»èŠ‚ç‚¹ã€‚</li> <li><code>cluster saveconfig</code> - å°†èŠ‚ç‚¹çš„é…ç½®æ–‡ä»¶ä¿å­˜åˆ°ç¡¬ç›˜é‡Œé¢ã€‚</li></ul></li> <li><strong>æ§½(slot)</strong> <ul><li><code>cluster addslots &lt;slot&gt; [slot ...]</code> - å°†ä¸€ä¸ªæˆ–å¤šä¸ªæ§½ï¼ˆ slotï¼‰æŒ‡æ´¾ï¼ˆ assignï¼‰ç»™å½“å‰èŠ‚ç‚¹ã€‚</li> <li><code>cluster delslots &lt;slot&gt; [slot ...]</code> - ç§»é™¤ä¸€ä¸ªæˆ–å¤šä¸ªæ§½å¯¹å½“å‰èŠ‚ç‚¹çš„æŒ‡æ´¾ã€‚</li> <li><code>cluster flushslots</code> - ç§»é™¤æŒ‡æ´¾ç»™å½“å‰èŠ‚ç‚¹çš„æ‰€æœ‰æ§½ï¼Œè®©å½“å‰èŠ‚ç‚¹å˜æˆä¸€ä¸ªæ²¡æœ‰æŒ‡æ´¾ä»»ä½•æ§½çš„èŠ‚ç‚¹ã€‚</li> <li><code>cluster setslot &lt;slot&gt; node &lt;node_id&gt;</code> - å°†æ§½ slot æŒ‡æ´¾ç»™ node_id æŒ‡å®šçš„èŠ‚ç‚¹ï¼Œå¦‚æœæ§½å·²ç»æŒ‡æ´¾ç»™å¦ä¸€ä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆå…ˆè®©å¦ä¸€ä¸ªèŠ‚ç‚¹åˆ é™¤è¯¥æ§½&gt;ï¼Œç„¶åå†è¿›è¡ŒæŒ‡æ´¾ã€‚</li> <li><code>cluster setslot &lt;slot&gt; migrating &lt;node_id&gt;</code> - å°†æœ¬èŠ‚ç‚¹çš„æ§½ slot è¿ç§»åˆ° node_id æŒ‡å®šçš„èŠ‚ç‚¹ä¸­ã€‚</li> <li><code>cluster setslot &lt;slot&gt; importing &lt;node_id&gt;</code> - ä» node_id æŒ‡å®šçš„èŠ‚ç‚¹ä¸­å¯¼å…¥æ§½ slot åˆ°æœ¬èŠ‚ç‚¹ã€‚</li> <li><code>cluster setslot &lt;slot&gt; stable</code> - å–æ¶ˆå¯¹æ§½ slot çš„å¯¼å…¥ï¼ˆ importï¼‰æˆ–è€…è¿ç§»ï¼ˆ migrateï¼‰ã€‚</li></ul></li> <li><strong>é”®</strong> <ul><li><code>cluster keyslot &lt;key&gt;</code> - è®¡ç®—é”® key åº”è¯¥è¢«æ”¾ç½®åœ¨å“ªä¸ªæ§½ä¸Šã€‚</li> <li><code>cluster countkeysinslot &lt;slot&gt;</code> - è¿”å›æ§½ slot ç›®å‰åŒ…å«çš„é”®å€¼å¯¹æ•°é‡ã€‚</li> <li><code>cluster getkeysinslot &lt;slot&gt; &lt;count&gt;</code> - è¿”å› count ä¸ª slot æ§½ä¸­çš„é”®ã€‚</li></ul></li></ul> <h2 id="å‹åŠ›æµ‹è¯•"><a href="#å‹åŠ›æµ‹è¯•" class="header-anchor">#</a> å‹åŠ›æµ‹è¯•</h2> <blockquote><p>å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š<a href="https://redis.io/topics/benchmarks" target="_blank" rel="noopener noreferrer">How fast is Redis?<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <p>Redis è‡ªå¸¦äº†ä¸€ä¸ªæ€§èƒ½æµ‹è¯•å·¥å…·ï¼š<code>redis-benchmark</code></p> <p><strong>ï¼ˆ1ï¼‰åŸºæœ¬æµ‹è¯•</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code>redis-benchmark -q -n <span class="token number">100000</span>
</code></pre></div><ul><li><code>-q</code> è¡¨ç¤ºé™é»˜ï¼ˆquietï¼‰æ‰§è¡Œ</li> <li><code>-n 100000</code> è¯·æ±‚ 10 ä¸‡æ¬¡</li></ul> <p><strong>ï¼ˆ2ï¼‰æµ‹è¯•æŒ‡å®šè¯»å†™æŒ‡ä»¤</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ redis-benchmark -t set,lpush -n <span class="token number">100000</span> -q
SET: <span class="token number">74239.05</span> requests per second
LPUSH: <span class="token number">79239.30</span> requests per second
</code></pre></div><p><strong>ï¼ˆ3ï¼‰æµ‹è¯• pipeline æ¨¡å¼ä¸‹æŒ‡å®šè¯»å†™æŒ‡ä»¤</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code>redis-benchmark -n <span class="token number">1000000</span> -t set,get -P <span class="token number">16</span> -q
SET: <span class="token number">403063.28</span> requests per second
GET: <span class="token number">508388.41</span> requests per second
</code></pre></div><h2 id="å®¢æˆ·ç«¯"><a href="#å®¢æˆ·ç«¯" class="header-anchor">#</a> å®¢æˆ·ç«¯</h2> <p>æ¨èä½¿ç”¨ <a href="https://github.com/uglide/RedisDesktopManager" target="_blank" rel="noopener noreferrer"><strong>RedisDesktopManager</strong><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="è„šæœ¬"><a href="#è„šæœ¬" class="header-anchor">#</a> è„šæœ¬</h2> <blockquote><p>CentOS7 ç¯å¢ƒå®‰è£…è„šæœ¬ï¼š<a href="https://github.com/dunwu/linux-tutorial/tree/master/codes/linux/soft" target="_blank" rel="noopener noreferrer">è½¯ä»¶è¿ç»´é…ç½®è„šæœ¬é›†åˆ<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <p><strong>å®‰è£…è¯´æ˜</strong></p> <ul><li>é‡‡ç”¨ç¼–è¯‘æ–¹å¼å®‰è£… Redis, å¹¶å°†å…¶æ³¨å†Œä¸º systemd æœåŠ¡</li> <li>å®‰è£…è·¯å¾„ä¸ºï¼š<code>/usr/local/redis</code></li> <li>é»˜è®¤ä¸‹è½½å®‰è£… <code>5.0.4</code> ç‰ˆæœ¬ï¼Œç«¯å£å·ä¸ºï¼š<code>6379</code>ï¼Œå¯†ç ä¸ºç©º</li></ul> <p><strong>ä½¿ç”¨æ–¹æ³•</strong></p> <ul><li>é»˜è®¤å®‰è£… - æ‰§è¡Œä»¥ä¸‹ä»»æ„å‘½ä»¤å³å¯ï¼š</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">curl</span> -o- https://gitee.com/turnon/linux-tutorial/raw/master/codes/linux/soft/redis-install.sh <span class="token operator">|</span> <span class="token function">bash</span>
<span class="token function">wget</span> -qO- https://gitee.com/turnon/linux-tutorial/raw/master/codes/linux/soft/redis-install.sh <span class="token operator">|</span> <span class="token function">bash</span>
</code></pre></div><ul><li>è‡ªå®šä¹‰å®‰è£… - ä¸‹è½½è„šæœ¬åˆ°æœ¬åœ°ï¼Œå¹¶æŒ‰ç…§ä»¥ä¸‹æ ¼å¼æ‰§è¡Œï¼š</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sh</span> redis-install.sh <span class="token punctuation">[</span>version<span class="token punctuation">]</span> <span class="token punctuation">[</span>port<span class="token punctuation">]</span> <span class="token punctuation">[</span>password<span class="token punctuation">]</span>
</code></pre></div><p>å‚æ•°è¯´æ˜ï¼š</p> <ul><li><code>version</code> - redis ç‰ˆæœ¬å·</li> <li><code>port</code> - redis æœåŠ¡ç«¯å£å·</li> <li><code>password</code> - è®¿é—®å¯†ç </li></ul> <h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="header-anchor">#</a> å‚è€ƒèµ„æ–™</h2> <ul><li><strong>å®˜ç½‘</strong> <ul><li><a href="https://redis.io/" target="_blank" rel="noopener noreferrer">Redis å®˜ç½‘<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://github.com/antirez/redis" target="_blank" rel="noopener noreferrer">Redis github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="http://redis.cn/" target="_blank" rel="noopener noreferrer">Redis å®˜æ–¹æ–‡æ¡£ä¸­æ–‡ç‰ˆ<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li> <li><strong>ä¹¦ç±</strong> <ul><li><a href="https://item.jd.com/11791607.html" target="_blank" rel="noopener noreferrer">ã€ŠRedis å®æˆ˜ã€‹<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://item.jd.com/11486101.html" target="_blank" rel="noopener noreferrer">ã€ŠRedis è®¾è®¡ä¸å®ç°ã€‹<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li> <li><strong>æ•™ç¨‹</strong> <ul><li><a href="http://redisdoc.com/" target="_blank" rel="noopener noreferrer">Redis å‘½ä»¤å‚è€ƒ<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li> <li><strong>æ–‡ç« </strong> <ul><li><a href="https://juejin.im/post/5b8fc5536fb9a05d2d01fb11" target="_blank" rel="noopener noreferrer">æ·±å…¥å‰–æ Redis ç³»åˆ—(ä¸‰) - Redis é›†ç¾¤æ¨¡å¼æ­å»ºä¸åŸç†è¯¦è§£<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/dunwu/db-tutorial/edit/master/docs/nosql/redis/redis-ops.md" target="_blank" rel="noopener noreferrer">å¸®åŠ©æˆ‘ä»¬æ”¹å–„æ­¤é¡µé¢ï¼</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <!----> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/db-tutorial/assets/js/app.1637c1a8.js" defer></script><script src="/db-tutorial/assets/js/4.988cd28a.js" defer></script><script src="/db-tutorial/assets/js/33.d8a98227.js" defer></script><script src="/db-tutorial/assets/js/5.97e60065.js" defer></script>
  </body>
</html>
